# Choose Your Own Adventure (CYOA) UI Design

## Overview
Instead of a single text box for extension, we present the user with branching narrative options generated by Gemini based on the previous clip.

## User Flow
1.  **Generation Complete:** Veo finishes generating/extending a clip.
2.  **Analysis Trigger:** The frontend automatically calls `/api/gemini/analyze-video`.
3.  **Suggestion Generation:** Gemini returns:
    *   **Context:** (Visual style, character desc)
    *   **Options:** 3 distinct narrative directions (e.g., "Chase", "Hide", "Fight").
4.  **UI Presentation:**
    *   The "Prompt" text field is replaced/pushed down by a **Branch Selection** component.
    *   Three `<md-elevated-card>` elements appear.
    *   **Card Content:**
        *   **Headline:** Short Action Verb (e.g., "JUMP")
        *   **Supporting Text:** The full prompt (e.g., "She vaults over the hood of the car...")
5.  **Selection:**
    *   User clicks a card -> Immediate trigger of `Extend` with that prompt + context.
    *   User clicks "Custom" -> Focuses the text field for manual entry.

## Component Structure (`frontend/src/components/branch-selector.ts`)

```typescript
@customElement('branch-selector')
export class BranchSelector extends LitElement {
  @property({ type: Array }) options = []; // { label, prompt }
  
  render() {
    return html`
      <div class="branches">
        ${this.options.map(opt => html`
          <md-elevated-card @click="${() => this.select(opt)}">
            <div class="content">
              <div class="headline">${opt.label}</div>
              <div class="body">${opt.prompt}</div>
            </div>
          </md-elevated-card>
        `)}
      </div>
    `;
  }
}
```

## Backend Requirements
*   New Endpoint: `/api/gemini/suggest-continuations`
    *   Input: `videoUri`
    *   Output: `{ context: string, options: [{ label, prompt }] }`
